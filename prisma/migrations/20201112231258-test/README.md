# Migration `20201112231258-test`

This migration has been generated by 65LimesAH at 11/12/2020, 5:12:58 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "User" ADD COLUMN     "roles" BOOLEAN NOT NULL DEFAULT false

CREATE TABLE "permissions" (
"id" SERIAL,
    "permission" TEXT NOT NULL,
    "userId" INTEGER,

    PRIMARY KEY ("id")
)

ALTER TABLE "permissions" ADD FOREIGN KEY("userId")REFERENCES "User"("id") ON DELETE SET NULL ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201112204028-init..20201112231258-test
--- datamodel.dml
+++ datamodel.dml
@@ -1,21 +1,28 @@
 datasource db {
   provider = "postgres"
-  url = "***"
+  url = "***"
 }
 generator prisma {
   provider        = "prisma-client-js"
   binaryTargets   = ["native", "linux-musl"]
 }
 model User {
-  id        Int      @id @default(autoincrement())
-  email     String   @unique
-  password  String
-  firstName String?
-  lastName  String?
-  createdAt DateTime @default(now())
-  updatedAt DateTime @updatedAt
+  id            Int             @id @default(autoincrement())
+  email         String          @unique
+  password      String
+  firstName     String?
+  lastName      String?
+  createdAt     DateTime        @default(now())
+  updatedAt     DateTime        @updatedAt
+  roles         Boolean         @default(false)
+  permissions   permissions[]      
 }
+model permissions {
+  id            Int             @id @default(autoincrement())
+  permission    String
+}
+
```


